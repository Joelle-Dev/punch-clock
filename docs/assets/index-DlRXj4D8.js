import{am as be,an as $e,ao as Be,ap as je,aq as qe,r as z,ar as Ge,as as _e,at as Ae,au as Pe,m as j,M as W,av as ze,i as P,Q as we,aw as ee,Z as D,ax as G,ay as ye,az as Oe,d as T,aA as se,h as C,z as Ee,aB as Qe,A as H,_ as Le,C as q,$ as Me,D as te,W as N,q as ae,aC as Je,a3 as Te,aD as De,aE as He,Y as Ne,aF as p,T as pe,U as et,L as ve,R as he,aG as Se,K as me,aH as tt,aI as at,aJ as xe,aK as nt,aL as it,G as lt,aM as Ce,aN as ot,N as We,aO as st,aP as rt,O as ct,b as ut,ae as dt,x as ft,y as Ie,aQ as vt,n as ht,aR as gt,aS as bt}from"./index-D_m1KBBi.js";import{u as Ye}from"./use-id-CbJ56Ing.js";function mt(e,i,r){let n,c=0;const t=e.scrollLeft,f=r===0?1:Math.round(r*1e3/16);let s=t;function h(){$e(n)}function g(){s+=(i-t)/f,e.scrollLeft=s,++c<f&&(n=be(g))}return g(),h}function wt(e,i,r,n){let c,t=Be(e);const f=t<i,s=r===0?1:Math.round(r*1e3/16),h=(i-t)/s;function g(){$e(c)}function l(){t+=h,(f&&t>i||!f&&t<i)&&(t=i),je(e,t),f&&t<i||!f&&t>i?c=be(l):n&&(c=be(n))}return l(),g}function yt(){const e=z([]),i=[];return qe(()=>{e.value=[]}),[e,n=>(i[n]||(i[n]=c=>{e.value[n]=c}),i[n])]}function Ze(e,i){if(!Ge||!window.IntersectionObserver)return;const r=new IntersectionObserver(t=>{i(t[0].intersectionRatio>0)},{root:document.body}),n=()=>{e.value&&r.observe(e.value)},c=()=>{e.value&&r.unobserve(e.value)};_e(c),Ae(c),Pe(n)}const[Tt,St]=q("sticky"),xt={zIndex:W,position:Le("top"),container:Object,offsetTop:H(0),offsetBottom:H(0)};var Ct=j({name:Tt,props:xt,emits:["scroll","change"],setup(e,{emit:i,slots:r}){const n=z(),c=ze(n),t=se({fixed:!1,width:0,height:0,transform:0}),f=z(!1),s=C(()=>Me(e.position==="top"?e.offsetTop:e.offsetBottom)),h=C(()=>{if(f.value)return;const{fixed:u,height:I,width:b}=t;if(u)return{width:`${b}px`,height:`${I}px`}}),g=C(()=>{if(!t.fixed||f.value)return;const u=Ee(Qe(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${s.value}px`});return t.transform&&(u.transform=`translate3d(0, ${t.transform}px, 0)`),u}),l=u=>i("scroll",{scrollTop:u,isFixed:t.fixed}),y=()=>{if(!n.value||ee(n))return;const{container:u,position:I}=e,b=G(n),R=Be(window);if(t.width=b.width,t.height=b.height,I==="top")if(u){const v=G(u),O=v.bottom-s.value-t.height;t.fixed=s.value>b.top&&v.bottom>0,t.transform=O<0?O:0}else t.fixed=s.value>b.top;else{const{clientHeight:v}=document.documentElement;if(u){const O=G(u),w=v-O.top-s.value-t.height;t.fixed=v-s.value<b.bottom&&v>O.top,t.transform=w<0?-w:0}else t.fixed=v-s.value<b.bottom}l(R)};return P(()=>t.fixed,u=>i("change",u)),we("scroll",y,{target:c,passive:!0}),Ze(n,y),P([ye,Oe],()=>{!n.value||ee(n)||!t.fixed||(f.value=!0,D(()=>{const u=G(n);t.width=u.width,t.height=u.height,f.value=!1}))}),()=>{var u;return T("div",{ref:n,style:h.value},[T("div",{class:St({fixed:t.fixed&&!f.value}),style:g.value},[(u=r.default)==null?void 0:u.call(r)])])}}});const It=te(Ct),[Fe,le]=q("swipe"),Rt={loop:N,width:W,height:W,vertical:Boolean,autoplay:H(0),duration:H(500),touchable:N,lazyRender:Boolean,initialSwipe:H(0),indicatorColor:String,showIndicators:N,stopPropagation:N},Ke=Symbol(Fe);var kt=j({name:Fe,props:Rt,emits:["change","dragStart","dragEnd"],setup(e,{emit:i,slots:r}){const n=z(),c=z(),t=se({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let f=!1;const s=et(),{children:h,linkChildren:g}=Ne(Ke),l=C(()=>h.length),y=C(()=>t[e.vertical?"height":"width"]),u=C(()=>e.vertical?s.deltaY.value:s.deltaX.value),I=C(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-y.value*l.value:0),b=C(()=>y.value?Math.ceil(Math.abs(I.value)/y.value):l.value),R=C(()=>l.value*y.value),v=C(()=>(t.active+l.value)%l.value),O=C(()=>{const o=e.vertical?"vertical":"horizontal";return s.direction.value===o}),w=C(()=>{const o={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+t.offset.toFixed(2)}px)`};if(y.value){const S=e.vertical?"height":"width",x=e.vertical?"width":"height";o[S]=`${R.value}px`,o[x]=e[x]?`${e[x]}px`:""}return o}),F=o=>{const{active:S}=t;return o?e.loop?ve(S+o,-1,l.value):ve(S+o,0,b.value):S},K=(o,S=0)=>{let x=o*y.value;e.loop||(x=Math.min(x,-I.value));let _=S-x;return e.loop||(_=ve(_,I.value,0)),_},$=({pace:o=0,offset:S=0,emitChange:x})=>{if(l.value<=1)return;const{active:_}=t,a=F(o),d=K(a,S);if(e.loop){if(h[0]&&d!==I.value){const m=d<I.value;h[0].setOffset(m?R.value:0)}if(h[l.value-1]&&d!==0){const m=d>0;h[l.value-1].setOffset(m?-R.value:0)}}t.active=a,t.offset=d,x&&a!==_&&i("change",v.value)},L=()=>{t.swiping=!0,t.active<=-1?$({pace:l.value}):t.active>=l.value&&$({pace:-l.value})},Y=()=>{L(),s.reset(),p(()=>{t.swiping=!1,$({pace:-1,emitChange:!0})})},Q=()=>{L(),s.reset(),p(()=>{t.swiping=!1,$({pace:1,emitChange:!0})})};let Z;const B=()=>clearTimeout(Z),U=()=>{B(),+e.autoplay>0&&l.value>1&&(Z=setTimeout(()=>{Q(),U()},+e.autoplay))},E=(o=+e.initialSwipe)=>{if(!n.value)return;const S=()=>{var x,_;if(!ee(n)){const a={width:n.value.offsetWidth,height:n.value.offsetHeight};t.rect=a,t.width=+((x=e.width)!=null?x:a.width),t.height=+((_=e.height)!=null?_:a.height)}l.value&&(o=Math.min(l.value-1,o),o===-1&&(o=l.value-1)),t.active=o,t.swiping=!0,t.offset=K(o),h.forEach(a=>{a.setOffset(0)}),U()};ee(n)?D().then(S):S()},X=()=>E(t.active);let J;const re=o=>{!e.touchable||o.touches.length>1||(s.start(o),f=!1,J=Date.now(),B(),L())},ce=o=>{e.touchable&&t.swiping&&(s.move(o),O.value&&(!e.loop&&(t.active===0&&u.value>0||t.active===l.value-1&&u.value<0)||(pe(o,e.stopPropagation),$({offset:u.value}),f||(i("dragStart",{index:v.value}),f=!0))))},ne=()=>{if(!e.touchable||!t.swiping)return;const o=Date.now()-J,S=u.value/o;if((Math.abs(S)>.25||Math.abs(u.value)>y.value/2)&&O.value){const _=e.vertical?s.offsetY.value:s.offsetX.value;let a=0;e.loop?a=_>0?u.value>0?-1:1:0:a=-Math[u.value>0?"ceil":"floor"](u.value/y.value),$({pace:a,emitChange:!0})}else u.value&&$({pace:0});f=!1,t.swiping=!1,i("dragEnd",{index:v.value}),U()},ue=(o,S={})=>{L(),s.reset(),p(()=>{let x;e.loop&&o===l.value?x=t.active===0?0:o:x=o%l.value,S.immediate?p(()=>{t.swiping=!1}):t.swiping=!1,$({pace:x-t.active,emitChange:!0})})},de=(o,S)=>{const x=S===v.value,_=x?{backgroundColor:e.indicatorColor}:void 0;return T("i",{style:_,class:le("indicator",{active:x})},null)},fe=()=>{if(r.indicator)return r.indicator({active:v.value,total:l.value});if(e.showIndicators&&l.value>1)return T("div",{class:le("indicators",{vertical:e.vertical})},[Array(l.value).fill("").map(de)])};return ae({prev:Y,next:Q,state:t,resize:X,swipeTo:ue}),g({size:y,props:e,count:l,activeIndicator:v}),P(()=>e.initialSwipe,o=>E(+o)),P(l,()=>E(t.active)),P(()=>e.autoplay,U),P([ye,Oe,()=>e.width,()=>e.height],X),P(Je(),o=>{o==="visible"?U():B()}),Te(E),De(()=>E(t.active)),He(()=>E(t.active)),_e(B),Ae(B),we("touchmove",ce,{target:c}),()=>{var o;return T("div",{ref:n,class:le()},[T("div",{ref:c,style:w.value,class:le("track",{vertical:e.vertical}),onTouchstartPassive:re,onTouchend:ne,onTouchcancel:ne},[(o=r.default)==null?void 0:o.call(r)]),fe()])}}});const $t=te(kt),[Bt,Re]=q("tabs");var _t=j({name:Bt,props:{count:he(Number),inited:Boolean,animated:Boolean,duration:he(W),swipeable:Boolean,lazyRender:Boolean,currentIndex:he(Number)},emits:["change"],setup(e,{emit:i,slots:r}){const n=z(),c=s=>i("change",s),t=()=>{var s;const h=(s=r.default)==null?void 0:s.call(r);return e.animated||e.swipeable?T($t,{ref:n,loop:!1,class:Re("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:c},{default:()=>[h]}):h},f=s=>{const h=n.value;h&&h.state.active!==s&&h.swipeTo(s,{immediate:!e.inited})};return P(()=>e.currentIndex,f),Te(()=>{f(e.currentIndex)}),ae({swipeRef:n}),()=>T("div",{class:Re("content",{animated:e.animated||e.swipeable})},[t()])}});const[Ue,oe]=q("tabs"),At={type:Le("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:H(0),duration:H(.3),animated:Boolean,ellipsis:N,swipeable:Boolean,scrollspy:Boolean,offsetTop:H(0),background:String,lazyRender:N,showHeader:N,lineWidth:W,lineHeight:W,beforeChange:Function,swipeThreshold:H(5),titleActiveColor:String,titleInactiveColor:String},Xe=Symbol(Ue);var Pt=j({name:Ue,props:At,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:i,slots:r}){let n,c,t,f,s;const h=z(),g=z(),l=z(),y=z(),u=Ye(),I=ze(h),[b,R]=yt(),{children:v,linkChildren:O}=Ne(Xe),w=se({inited:!1,position:"",lineStyle:{},currentIndex:-1}),F=C(()=>v.length>+e.swipeThreshold||!e.ellipsis||e.shrink),K=C(()=>({borderColor:e.color,background:e.background})),$=(a,d)=>{var m;return(m=a.name)!=null?m:d},L=C(()=>{const a=v[w.currentIndex];if(a)return $(a,w.currentIndex)}),Y=C(()=>Me(e.offsetTop)),Q=C(()=>e.sticky?Y.value+n:0),Z=a=>{const d=g.value,m=b.value;if(!F.value||!d||!m||!m[w.currentIndex])return;const A=m[w.currentIndex].$el,k=A.offsetLeft-(d.offsetWidth-A.offsetWidth)/2;f&&f(),f=mt(d,k,a?0:+e.duration)},B=()=>{const a=w.inited;D(()=>{const d=b.value;if(!d||!d[w.currentIndex]||e.type!=="line"||ee(h.value))return;const m=d[w.currentIndex].$el,{lineWidth:A,lineHeight:k}=e,M=m.offsetLeft+m.offsetWidth/2,V={width:Se(A),backgroundColor:e.color,transform:`translateX(${M}px) translateX(-50%)`};if(a&&(V.transitionDuration=`${e.duration}s`),me(k)){const ie=Se(k);V.height=ie,V.borderRadius=ie}w.lineStyle=V})},U=a=>{const d=a<w.currentIndex?-1:1;for(;a>=0&&a<v.length;){if(!v[a].disabled)return a;a+=d}},E=(a,d)=>{const m=U(a);if(!me(m))return;const A=v[m],k=$(A,m),M=w.currentIndex!==null;w.currentIndex!==m&&(w.currentIndex=m,d||Z(),B()),k!==e.active&&(i("update:active",k),M&&i("change",k,A.title)),t&&!e.scrollspy&&at(Math.ceil(xe(h.value)-Y.value))},X=(a,d)=>{const m=v.findIndex((A,k)=>$(A,k)===a);E(m===-1?0:m,d)},J=(a=!1)=>{if(e.scrollspy){const d=v[w.currentIndex].$el;if(d&&I.value){const m=xe(d,I.value)-Q.value;c=!0,s&&s(),s=wt(I.value,m,a?0:+e.duration,()=>{c=!1})}}},re=(a,d,m)=>{const{title:A,disabled:k}=v[d],M=$(v[d],d);k||(nt(e.beforeChange,{args:[M],done:()=>{E(d),J()}}),it(a)),i("clickTab",{name:M,title:A,event:m,disabled:k})},ce=a=>{t=a.isFixed,i("scroll",a)},ne=a=>{D(()=>{X(a),J(!0)})},ue=()=>{for(let a=0;a<v.length;a++){const{top:d}=G(v[a].$el);if(d>Q.value)return a===0?0:a-1}return v.length-1},de=()=>{if(e.scrollspy&&!c){const a=ue();E(a)}},fe=()=>{if(e.type==="line"&&v.length)return T("div",{class:oe("line"),style:w.lineStyle},null)},o=()=>{var a,d,m;const{type:A,border:k,sticky:M}=e,V=[T("div",{ref:M?void 0:l,class:[oe("wrap"),{[tt]:A==="line"&&k}]},[T("div",{ref:g,role:"tablist",class:oe("nav",[A,{shrink:e.shrink,complete:F.value}]),style:K.value,"aria-orientation":"horizontal"},[(a=r["nav-left"])==null?void 0:a.call(r),v.map(ie=>ie.renderTitle(re)),fe(),(d=r["nav-right"])==null?void 0:d.call(r)])]),(m=r["nav-bottom"])==null?void 0:m.call(r)];return M?T("div",{ref:l},[V]):V},S=()=>{B(),D(()=>{var a,d;Z(!0),(d=(a=y.value)==null?void 0:a.swipeRef.value)==null||d.resize()})};P(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],B),P(ye,S),P(()=>e.active,a=>{a!==L.value&&X(a)}),P(()=>v.length,()=>{w.inited&&(X(e.active),B(),D(()=>{Z(!0)}))});const x=()=>{X(e.active,!0),D(()=>{w.inited=!0,l.value&&(n=G(l.value).height),Z(!0)})},_=(a,d)=>i("rendered",a,d);return ae({resize:S,scrollTo:ne}),De(B),He(B),Pe(x),Ze(h,B),we("scroll",de,{target:I,passive:!0}),O({id:u,props:e,setLine:B,scrollable:F,onRendered:_,currentName:L,setTitleRefs:R,scrollIntoView:Z}),()=>T("div",{ref:h,class:oe([e.type])},[e.showHeader?e.sticky?T(It,{container:h.value,offsetTop:Y.value,onScroll:ce},{default:()=>[o()]}):o():null,T(_t,{ref:y,count:v.length,inited:w.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:w.currentIndex,onChange:E},{default:()=>{var a;return[(a=r.default)==null?void 0:a.call(r)]}})])}});const zt=Symbol(),Ve=Symbol(),Ot=()=>lt(Ve,null),Et=e=>{const i=Ot();Ce(zt,e),Ce(Ve,C(()=>(i==null||i.value)&&e.value))},[Lt,ke]=q("tab"),Mt=j({name:Lt,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:W,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:N},setup(e,{slots:i}){const r=C(()=>{const c={},{type:t,color:f,disabled:s,isActive:h,activeColor:g,inactiveColor:l}=e;f&&t==="card"&&(c.borderColor=f,s||(h?c.backgroundColor=f:c.color=f));const u=h?g:l;return u&&(c.color=u),c}),n=()=>{const c=T("span",{class:ke("text",{ellipsis:!e.scrollable})},[i.title?i.title():e.title]);return e.dot||me(e.badge)&&e.badge!==""?T(ot,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[c]}):c};return()=>T("div",{id:e.id,role:"tab",class:[ke([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:r.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[n()])}}),[Dt,Ht]=q("swipe-item");var Nt=j({name:Dt,setup(e,{slots:i}){let r;const n=se({offset:0,inited:!1,mounted:!1}),{parent:c,index:t}=We(Ke);if(!c)return;const f=C(()=>{const g={},{vertical:l}=c.props;return c.size.value&&(g[l?"height":"width"]=`${c.size.value}px`),n.offset&&(g.transform=`translate${l?"Y":"X"}(${n.offset}px)`),g}),s=C(()=>{const{loop:g,lazyRender:l}=c.props;if(!l||r)return!0;if(!n.mounted)return!1;const y=c.activeIndicator.value,u=c.count.value-1,I=y===0&&g?u:y-1,b=y===u&&g?0:y+1;return r=t.value===y||t.value===I||t.value===b,r}),h=g=>{n.offset=g};return Te(()=>{D(()=>{n.mounted=!0})}),ae({setOffset:h}),()=>{var g;return T("div",{class:Ht(),style:f.value},[s.value?(g=i.default)==null?void 0:g.call(i):null])}}});const Wt=te(Nt),[Yt,ge]=q("tab"),Zt=Ee({},st,{dot:Boolean,name:W,badge:W,title:String,disabled:Boolean,titleClass:rt,titleStyle:[String,Object],showZeroBadge:N});var Ft=j({name:Yt,props:Zt,setup(e,{slots:i}){const r=Ye(),n=z(!1),c=vt(),{parent:t,index:f}=We(Xe);if(!t)return;const s=()=>{var b;return(b=e.name)!=null?b:f.value},h=()=>{n.value=!0,t.props.lazyRender&&D(()=>{t.onRendered(s(),e.title)})},g=C(()=>{const b=s()===t.currentName.value;return b&&!n.value&&h(),b}),l=z(""),y=z("");ct(()=>{const{titleClass:b,titleStyle:R}=e;l.value=b?ht(b):"",y.value=R&&typeof R!="string"?gt(bt(R)):R});const u=b=>T(Mt,ft({key:r,id:`${t.id}-${f.value}`,ref:t.setTitleRefs(f.value),style:y.value,class:l.value,isActive:g.value,controls:r,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:R=>b(c.proxy,f.value,R)},Ie(t.props,["type","color","shrink"]),Ie(e,["dot","badge","title","disabled","showZeroBadge"])),{title:i.title}),I=z(!g.value);return P(g,b=>{b?I.value=!1:p(()=>{I.value=!0})}),P(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),Et(g),ae({id:r,renderTitle:u}),()=>{var b;const R=`${t.id}-${f.value}`,{animated:v,swipeable:O,scrollspy:w,lazyRender:F}=t.props;if(!i.default&&!v)return;const K=w||g.value;if(v||O)return T(Wt,{id:r,role:"tabpanel",class:ge("panel-wrapper",{inactive:I.value}),tabindex:g.value?0:-1,"aria-hidden":!g.value,"aria-labelledby":R,"data-allow-mismatch":"attribute"},{default:()=>{var Y;return[T("div",{class:ge("panel")},[(Y=i.default)==null?void 0:Y.call(i)])]}});const L=n.value||w||!F?(b=i.default)==null?void 0:b.call(i):null;return ut(T("div",{id:r,role:"tabpanel",class:ge("panel"),tabindex:K?0:-1,"aria-labelledby":R,"data-allow-mismatch":"attribute"},[L]),[[dt,K]])}}});const Xt=te(Ft),Vt=te(Pt);export{Vt as T,Xt as a};
