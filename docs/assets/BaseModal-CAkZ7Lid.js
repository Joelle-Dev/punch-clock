import{L as b,P as B,ao as S,o as i,c as m,b as g,ap as E,a as f,aq as u,n as p,i as x,t as I,af as y,ar as L,a5 as M,as as T,h as d,r as Y}from"./index-B9lxshWK.js";const D=["aria-modal","aria-labelledby"],N=["id"],V={__name:"BaseModal",props:{open:{type:Boolean,default:!1},title:{type:String,default:""},showClose:{type:Boolean,default:void 0},innerClass:{type:String,default:""},lockScroll:{type:Boolean,default:!0}},emits:["update:open","close"],setup(l,{emit:k}){const o=l,r=k,h=Y(null),w=d(()=>o.title?"modal-title-"+Math.random().toString(36).slice(2,9):void 0),v=d(()=>o.showClose!==void 0?o.showClose:!!o.title),C=d(()=>o.title?"theme-modal-inner"+(o.innerClass?" "+o.innerClass:""):o.innerClass||"");function a(){r("update:open",!1),r("close")}function s(t){t.key==="Escape"&&o.open&&a()}function c(t){if(!o.lockScroll)return;const e=document.body.style;if(t){const n=window.scrollY;e.overflow="hidden",e.position="fixed",e.top=`-${n}px`,e.left="0",e.right="0"}else{const n=Math.abs(parseInt(e.top||"0",10));e.overflow="",e.position="",e.top="",e.left="",e.right="",window.scrollTo(0,n)}}return b(()=>o.open,t=>{c(t),t?B(()=>document.addEventListener("keydown",s)):document.removeEventListener("keydown",s)},{immediate:!0}),S(()=>{document.removeEventListener("keydown",s),c(!1)}),(t,e)=>{const n=M;return i(),m(T,{to:"body"},[g(f("div",{ref_key:"backdropRef",ref:h,class:p(["modal-backdrop",{"theme-modal":!!l.title}]),role:"dialog","aria-modal":l.open,"aria-labelledby":(l.title,void 0),onClick:u(a,["self"])},[f("div",{class:p(["modal",C.value]),role:"document",onClick:e[0]||(e[0]=u(()=>{},["stop"]))},[l.title?(i(),x("div",{key:0,class:"theme-modal-title",id:w.value},I(l.title),9,N)):y("",!0),L(t.$slots,"default"),v.value?(i(),m(n,{key:1,name:"cross",class:"theme-modal-close","aria-label":"关闭",onClick:a})):y("",!0)],2)],10,D),[[E,l.open]])])}}};export{V as _};
