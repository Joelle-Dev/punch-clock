import{_ as g}from"./BaseModal-CA2Kxisn.js";import{u as B}from"./useAchievements-C4jT47Pq.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{i as x,o as t,c as A,w as N,j as n,t as i,k as p,F as U,l as F,n as I,u,a,h as v}from"./index-QHLLLVjm.js";const L={key:0,class:"achievement-summary"},M={key:1,class:"achievement-medals"},V={class:"achievement-medal-circle"},j={class:"achievement-medal-icon"},z={key:0,class:"achievement-medal-new"},D={class:"achievement-medal-title"},E={key:2,class:"achievement-empty"},S={__name:"AchievementModal",props:{open:Boolean},emits:["update:open"],setup(h,{emit:_}){const l=h,f=_,m=v({get:()=>l.open,set:s=>f("update:open",s)}),{unlockedList:k,achievements:y,newlyUnlockedIds:d,clearNewlyUnlocked:r}=B(),o=v(()=>y.filter(s=>k.value.includes(s.id)));function w(){r()}return x(()=>l.open,s=>{s||r()}),(s,c)=>(t(),A(g,{open:m.value,"onUpdate:open":c[0]||(c[0]=e=>m.value=e),title:"成就","inner-class":"achievement-modal-inner",onClose:w},{default:N(()=>[o.value.length?(t(),n("p",L,"已解锁 "+i(o.value.length)+" 个～",1)):p("",!0),o.value.length?(t(),n("div",M,[(t(!0),n(U,null,F(o.value,e=>(t(),n("div",{key:e.id,class:I(["achievement-medal",{"is-new":u(d).includes(e.id)}])},[a("div",V,[a("span",j,i(e.icon),1),u(d).includes(e.id)?(t(),n("span",z,"新")):p("",!0)]),a("span",D,i(e.title),1)],2))),128))])):(t(),n("div",E,[...c[1]||(c[1]=[a("p",{class:"achievement-empty-hint"},"还没有解锁成就～",-1),a("p",{class:"achievement-empty-desc"},"点「打我」或补录，达成条件即解锁～",-1)])]))]),_:1},8,["open"]))}},H=C(S,[["__scopeId","data-v-a3639f98"]]);export{H as default};
