*{margin:0;padding:0;box-sizing:border-box}:root{--primary: #6B7FD7;--primary-dark: #5A6BC4;--primary-soft: rgba(107, 127, 215, .15);--surface: #FFFFFF;--surface-2: #F2F2F7;--surface-3: #E5E5EA;--text: #000000;--text-2: #3C3C43;--text-3: #8E8E93;--green: #34C759;--orange: #FF9500;--red: #FF3B30;--separator: rgba(60, 60, 67, .12);--shadow-sm: 0 1px 2px rgba(0, 0, 0, .06);--shadow: 0 2px 8px rgba(0, 0, 0, .08);--radius: 12px;--radius-lg: 16px;--safe-top: env(safe-area-inset-top, 0px);--safe-bottom: env(safe-area-inset-bottom, 0px);--safe-left: env(safe-area-inset-left, 0px);--safe-right: env(safe-area-inset-right, 0px);--paper-bg: #FAF9F6;--paper-shadow: 0 2px 12px rgba(80, 60, 40, .06), 0 1px 3px rgba(80, 60, 40, .04);--note-shadow: 0 4px 16px rgba(80, 60, 40, .08), 0 2px 6px rgba(80, 60, 40, .04);--note-border: 3px solid transparent;--accent-line: 4px}:root.theme-day-0{--primary: #E8A87C;--primary-dark: #D4956A;--primary-soft: rgba(232, 168, 124, .18)}:root.theme-day-1{--primary: #6B7FD7;--primary-dark: #5A6BC4;--primary-soft: rgba(107, 127, 215, .15)}:root.theme-day-2{--primary: #52B788;--primary-dark: #429E72;--primary-soft: rgba(82, 183, 136, .15)}:root.theme-day-3{--primary: #F4A261;--primary-dark: #E08F4A;--primary-soft: rgba(244, 162, 97, .18)}:root.theme-day-4{--primary: #E87A9E;--primary-dark: #D4668A;--primary-soft: rgba(232, 122, 158, .15)}:root.theme-day-5{--primary: #9B7EDE;--primary-dark: #8266C7;--primary-soft: rgba(155, 126, 222, .15)}:root.theme-day-6{--primary: #00B4A0;--primary-dark: #009B8A;--primary-soft: rgba(0, 180, 160, .15)}body{font-family:-apple-system,BlinkMacSystemFont,SF Pro Text,SF Pro Display,Helvetica Neue,sans-serif;background:var(--surface-2);color:var(--text);line-height:1.5;min-height:100vh;-webkit-font-smoothing:antialiased}.app-shell{position:relative;z-index:1;max-width:480px;margin:0 auto;min-height:100vh;display:flex;flex-direction:column;padding-left:var(--safe-left);padding-right:var(--safe-right);padding-top:calc(44px + var(--safe-top));padding-bottom:calc(68px + var(--safe-bottom))}.top-banner{position:fixed;top:0;left:50%;transform:translate(-50%);width:100%;max-width:480px;padding:10px 16px 8px 20px;padding-top:calc(8px + var(--safe-top));display:flex;align-items:center;justify-content:space-between;gap:12px;background:linear-gradient(135deg,#ffffffd9,#fff9);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border-bottom:1px solid var(--separator);z-index:25;box-sizing:border-box;box-shadow:0 1px #fffc inset,0 2px 12px #0000000a}.top-banner-text{flex:1;font-size:14px;font-weight:500;color:var(--text-2);text-align:center}.top-banner-actions{flex-shrink:0;display:flex;align-items:center;gap:8px}.top-banner-btn{width:36px;height:36px;border:none;border-radius:50%;background:#fffc;box-shadow:var(--shadow-sm);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:transform .2s,box-shadow .2s;-webkit-tap-highlight-color:transparent}.top-banner-btn:active{transform:scale(.95)}.top-banner-icon{font-size:18px;line-height:1}.theme-modal .modal{max-width:320px;width:90%}.theme-modal-inner{position:relative;padding:20px}.theme-modal-title{font-size:18px;font-weight:600;color:var(--text);margin-bottom:16px}.theme-modal-row{display:flex;align-items:center;gap:12px;margin-bottom:16px}.theme-label{font-size:14px;color:var(--text-2)}.theme-color-input{width:56px;height:40px;padding:2px;border:1px solid var(--separator);border-radius:var(--radius);cursor:pointer;background:var(--surface)}.theme-modal-actions{display:flex;align-items:center;gap:10px}.theme-reset-btn{flex:1;padding:10px 14px;font-size:14px;border-radius:var(--radius);border:1px solid var(--border, var(--separator));background:var(--surface-2);color:var(--text-2);cursor:pointer}.theme-reset-btn:active{opacity:.85}.theme-help-btn{width:36px;height:36px;flex-shrink:0;border-radius:50%;border:1px solid var(--separator);background:var(--surface-2);color:var(--text-3);font-size:16px;font-weight:600;cursor:pointer;line-height:1}.theme-help-btn:active{opacity:.85}.theme-help-block{margin-top:14px;padding:12px;background:var(--surface-2);border-radius:var(--radius)}.theme-help-title{font-size:13px;font-weight:600;color:var(--text-2);margin-bottom:6px}.theme-help-text{font-size:12px;color:var(--text-3);line-height:1.5;margin-bottom:4px}.settings-menu{display:flex;flex-direction:column;gap:0}.settings-menu-item{display:flex;align-items:center;gap:12px;padding:14px 0;border:none;background:transparent;color:var(--text);font-size:15px;text-align:left;cursor:pointer;border-bottom:1px solid var(--separator);transition:background .2s;-webkit-tap-highlight-color:transparent}.settings-menu-item:last-child{border-bottom:none}.settings-menu-item:active{background:var(--surface-2)}.settings-menu-icon{font-size:20px;line-height:1;flex-shrink:0}.settings-menu-text{flex:1;font-weight:400}.settings-menu-arrow{font-size:18px;color:var(--text-3);flex-shrink:0}.about-content,.help-content{padding:8px 0}.about-text{font-size:14px;color:var(--text-2);line-height:1.6;margin-bottom:12px;text-align:center}.about-version{font-size:12px;color:var(--text-3);text-align:center;margin-top:16px}.help-section{margin-bottom:20px}.help-section:last-child{margin-bottom:0}.help-section-title{font-size:15px;font-weight:600;color:var(--text);margin-bottom:8px}.help-text{font-size:13px;color:var(--text-2);line-height:1.6}.theme-help-text:last-child{margin-bottom:0}.theme-modal-close{position:absolute;top:12px;right:12px;width:32px;height:32px;border:none;border-radius:50%;background:transparent;color:var(--text-3);font-size:22px;line-height:1;cursor:pointer}.theme-modal-close:active{background:var(--surface-2)}.tab-panel{display:none;flex:1;flex-direction:column;min-height:0;animation:panel-fade-in .3s ease}.tab-panel.active{display:flex;flex-direction:column}.tab-panel[hidden]{display:none!important}@keyframes panel-fade-in{0%{opacity:0}to{opacity:1}}.tab-bar{position:fixed;left:50%;transform:translate(-50%);bottom:0;width:100%;max-width:480px;height:calc(64px + var(--safe-bottom));padding-bottom:var(--safe-bottom);background:#ffffffeb;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border-top:1px solid var(--separator);display:flex;align-items:flex-start;justify-content:space-around;z-index:30;box-shadow:0 -2px 16px #503c280f,0 -1px #fffc inset}.tab-bar-item{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;padding:10px 0;border:none;background:transparent;color:var(--text-3);font-size:12px;font-weight:500;cursor:pointer;transition:color .2s,filter .2s;-webkit-tap-highlight-color:transparent}.tab-bar-item .tab-bar-icon{filter:grayscale(.4) opacity(.85);transition:filter .2s}.tab-bar-item.active{color:var(--primary)}.tab-bar-item.active .tab-bar-icon{filter:grayscale(0) opacity(1) drop-shadow(0 0 6px var(--primary))}.tab-bar-item.active .tab-bar-label{font-weight:700}.tab-bar-icon{font-size:26px;line-height:1}.tab-bar-icon-svg{display:inline-flex;align-items:center;justify-content:center}.tab-bar-icon-svg svg{display:block}.tab-bar-label{line-height:1}.app-header{background:var(--surface);padding:calc(24px + var(--safe-top)) 20px 16px;padding-bottom:16px;box-shadow:var(--paper-shadow)}.header-inner{margin-bottom:16px}.app-title{font-size:17px;font-weight:700;color:var(--text);letter-spacing:-.4px}.app-subtitle{font-size:13px;color:var(--text-3);margin-top:2px}.highlight-name{color:var(--primary);font-weight:600}.stats-row{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px}.stat-card{background:var(--surface);border-radius:var(--radius);padding:14px 16px;text-align:center;box-shadow:var(--paper-shadow);border-left:var(--accent-line);border-left-color:var(--primary-soft);transition:transform .2s ease,box-shadow .2s ease;animation:card-fade-in .4s ease backwards}.stat-card:nth-child(1){animation-delay:.05s}.stat-card:nth-child(2){animation-delay:.1s}.stat-card:nth-child(3){animation-delay:.15s}@keyframes card-fade-in{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}.stat-card-achievement{border:none;cursor:pointer;-webkit-tap-highlight-color:transparent}.stat-card-achievement:active{opacity:.9}.stat-card .stat-value{display:block;font-size:24px;font-weight:700;color:var(--primary);line-height:1.2}.stat-card .stat-label{font-size:12px;color:var(--text-3);margin-top:2px}.stat-item{display:flex;flex-direction:column;align-items:center}.stat-item .stat-label{font-size:12px;color:var(--text-3);margin-bottom:2px}.stat-item .stat-value{font-size:24px;font-weight:700;color:var(--primary)}.achievement-toast{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale(.9);padding:16px 24px;background:var(--surface);border-radius:var(--radius-lg);box-shadow:var(--shadow);display:flex;align-items:center;gap:12px;z-index:1000;opacity:0;pointer-events:none;transition:opacity .25s ease,transform .25s ease}.achievement-toast.show{opacity:1;transform:translate(-50%,-50%) scale(1)}.achievement-toast-icon{font-size:28px}.achievement-toast-title{font-size:16px;font-weight:600;color:var(--text)}.achievement-modal-inner{max-height:80vh;overflow-y:auto}.achievement-list{display:flex;flex-direction:column;gap:10px}.achievement-item{display:flex;align-items:center;gap:12px;padding:12px 14px;background:var(--surface-2);border-radius:var(--radius)}.achievement-item.locked{opacity:.6}.achievement-item .achievement-icon{font-size:24px;flex-shrink:0}.achievement-item .achievement-info{display:flex;flex-direction:column;gap:2px}.achievement-item .achievement-title{font-size:15px;font-weight:600;color:var(--text)}.achievement-item .achievement-desc{font-size:12px;color:var(--text-3)}.heatmap-section{margin-bottom:20px}.heatmap-title{font-size:15px;font-weight:600;color:var(--text-2);margin-bottom:10px;display:flex;align-items:center;gap:8px}.heatmap-title:before{content:"";width:4px;height:16px;border-radius:2px;background:var(--primary);opacity:.7}.heatmap-container{background:var(--surface);border-radius:var(--radius);padding:12px;box-shadow:var(--paper-shadow)}.heatmap-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:4px}.heatmap-week-label{font-size:10px;color:var(--text-3);text-align:center;padding:4px 0}.heatmap-cell{aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:10px;color:var(--text-3);border-radius:4px;background:var(--surface-3)}.heatmap-cell-empty{background:transparent}.heatmap-cell-0{background:var(--surface-3)}.heatmap-cell-1{position:relative;background:transparent;color:var(--text-2)}.heatmap-cell-1:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:var(--primary);opacity:.25;border-radius:4px}.heatmap-cell-2{position:relative;background:transparent;color:var(--text);z-index:0}.heatmap-cell-2:before{z-index:-1;content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:var(--primary);opacity:.5;border-radius:4px}.heatmap-cell-3{position:relative;background:transparent;color:var(--text);z-index:0}.heatmap-cell-3:before{z-index:-1;content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:var(--primary);opacity:.7;border-radius:4px}.heatmap-cell-4{background:var(--primary);color:#fff}.app-main{flex:1;padding:16px 20px 0;display:flex;flex-direction:column;min-height:0}.type-section{margin-bottom:20px}.type-tabs{display:flex;background:#0000000a;border-radius:14px;padding:5px;gap:4px;box-shadow:var(--paper-shadow)}.type-tab{flex:1;padding:10px 12px;border:none;border-radius:10px;background:transparent;font-size:14px;font-weight:500;color:var(--text-2);cursor:pointer;transition:all .25s ease;-webkit-tap-highlight-color:transparent}.type-tab.active{background:var(--surface);color:var(--primary);box-shadow:var(--shadow-sm)}.punch-section{background:var(--surface);border-radius:var(--radius-lg);padding:28px 24px 24px;margin-bottom:20px;text-align:center;box-shadow:var(--note-shadow);border-left:var(--accent-line);border-left-color:var(--primary-soft);position:relative;transition:box-shadow .2s ease}.hearts-burst-layer{position:absolute;left:50%;top:68px;transform:translate(-50%,-50%);width:0;height:0;pointer-events:none;z-index:3;overflow:visible;opacity:0;transition:opacity .15s ease}.hearts-burst-layer.show{opacity:1}.heart-burst{position:absolute;font-size:26px;animation:heart-burst 1.2s ease-out var(--delay, 0ms) forwards;animation-delay:var(--delay, 0ms);opacity:0;color:var(--heart-color, #ff6b9d)}@keyframes heart-burst{0%{opacity:1;transform:translate(0) scale(.4)}to{opacity:0;transform:translate(var(--tx, 0),var(--ty, 0)) scale(1.8)}}.punch-button{width:80px;height:80px;border-radius:50%;border:none;background:linear-gradient(145deg,var(--primary),var(--primary-dark));color:#fff;font-size:15px;font-weight:600;cursor:pointer;touch-action:manipulation;-webkit-tap-highlight-color:transparent;transition:transform .2s,box-shadow .2s;box-shadow:0 4px 14px #5856d666;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;margin:0 auto 12px}.punch-button-bounce{animation:punch-bounce .45s cubic-bezier(.34,1.56,.64,1)}@keyframes punch-bounce{0%{transform:scale(1);box-shadow:0 4px 14px #5856d666}18%{transform:scale(.88);box-shadow:0 2px 8px #5856d659}45%{transform:scale(1.08);box-shadow:0 6px 20px #5856d680}70%{transform:scale(.98)}to{transform:scale(1);box-shadow:0 4px 14px #5856d666}}.punch-button:active{transform:scale(.96)}.punch-icon{font-size:28px;line-height:1}.punch-icon-svg{display:inline-flex;align-items:center;justify-content:center}.punch-icon-svg svg{display:block}.punch-text{font-size:13px;opacity:.95}.last-punch{font-size:12px;color:var(--text-3)}.history-section{background:var(--surface);border-radius:var(--radius-lg);box-shadow:var(--note-shadow);border-left:var(--accent-line);border-left-color:var(--primary-soft);flex:1;display:flex;flex-direction:column;min-height:0;overflow:hidden}.history-header{padding:16px 16px 12px;border-bottom:1px dashed var(--separator);flex-shrink:0}.history-title{font-size:17px;font-weight:600;color:var(--text);margin-bottom:12px;display:flex;align-items:center;gap:8px}.history-title:before{content:"";width:4px;height:18px;border-radius:2px;background:var(--primary);opacity:.7}.history-section h2{font-size:17px;font-weight:600;margin-bottom:12px;color:var(--text);flex-shrink:0}.filter-tabs{display:flex;gap:8px;flex-wrap:wrap}.filter-tab{padding:6px 14px;border:none;border-radius:8px;background:var(--surface-2);font-size:13px;font-weight:500;color:var(--text-2);cursor:pointer;transition:all .2s}.filter-tab.active{background:var(--primary);color:#fff}.history-type-tabs{display:flex;flex-wrap:wrap;gap:8px;padding:12px 16px;border-bottom:1px solid var(--separator);flex-shrink:0}.history-type-tab{padding:6px 12px;border-radius:20px;border:none;background:var(--surface-2);font-size:13px;color:var(--text-2);cursor:pointer;transition:all .2s}.history-type-tab.active{background:var(--primary);color:#fff}.history-list{flex:1;min-height:0;overflow-y:auto;padding:8px 16px 16px}.history-item{display:flex;justify-content:space-between;align-items:center;padding:14px 0;border-bottom:1px solid var(--separator);transition:background .15s}.history-item:last-child{border-bottom:none}.history-type-block{border-radius:var(--radius);background:var(--surface-2);margin-bottom:12px;overflow:hidden}.history-type-block .history-item{padding:12px 14px;border-bottom:1px solid var(--separator)}.history-type-block .history-item:first-child{background:#5856d60f;font-weight:500}.history-type-block .history-item:last-child{border-bottom:none}.history-type-block-toilet{border-left:4px solid var(--green)}.history-type-block-meal{border-left:4px solid var(--orange)}.history-type-block-fitness{border-left:4px solid var(--primary)}.history-type-block-other{border-left:4px solid var(--text-3)}.history-date{font-size:15px;color:var(--text);font-weight:500}.history-time{font-size:13px;color:var(--text-3)}.history-time-list{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}.time-chip{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:8px;background:var(--surface);font-size:13px;color:var(--text-2);border:1px solid var(--separator)}.time-delete-btn{border:none;background:transparent;color:var(--red);font-size:12px;cursor:pointer;padding:0 2px}.time-delete-btn:hover{text-decoration:underline}.empty-state{text-align:center;padding:48px 24px;color:var(--text-3)}.empty-state-icon{font-size:48px;margin-bottom:16px;opacity:.5}.period-header{padding-bottom:12px}.period-main{flex:1;display:flex;flex-direction:column;min-height:0;padding:0 20px 20px}.period-status{background:var(--surface);border-radius:var(--radius-lg);padding:16px 18px;margin-bottom:16px;box-shadow:var(--shadow);font-size:14px;color:var(--text-2)}.period-status-title{font-weight:600;color:var(--text);margin-bottom:4px}.period-actions{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:20px}.period-btn{padding:14px 16px;border:none;border-radius:var(--radius);font-size:15px;font-weight:600;cursor:pointer;transition:transform .15s,box-shadow .15s;-webkit-tap-highlight-color:transparent}.period-btn-start{background:linear-gradient(145deg,#ff6b9d,#e91e63);color:#fff;box-shadow:0 4px 14px #e91e6359}.period-btn-end{background:var(--surface-2);color:var(--text-2);border:2px solid var(--separator)}.period-btn:active{transform:scale(.98)}.period-btn:disabled{opacity:.5;cursor:not-allowed;transform:none}.period-prediction{background:var(--surface);border-radius:var(--radius-lg);padding:16px 18px;margin-bottom:20px;box-shadow:var(--shadow)}.period-prediction-title{font-size:13px;font-weight:600;color:var(--text-3);margin-bottom:8px}.period-prediction-value{font-size:18px;font-weight:700;color:var(--primary)}.period-prediction-hint{font-size:12px;color:var(--text-3);margin-top:6px}.period-history-section{flex:1;display:flex;flex-direction:column;min-height:0;background:var(--surface);border-radius:var(--radius-lg);box-shadow:var(--note-shadow);border-left:var(--accent-line);border-left-color:var(--primary-soft);overflow:hidden;padding:16px}.period-history-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;flex-shrink:0}.period-history-actions{display:flex;flex-wrap:wrap;gap:8px}.period-history-title{font-size:17px;font-weight:600;color:var(--text);margin:0;display:flex;align-items:center;gap:8px}.period-history-title:before{content:"";width:4px;height:18px;border-radius:2px;background:var(--primary);opacity:.7}.period-export-btn{font-size:13px;padding:6px 12px;border-radius:var(--radius);border:1px solid var(--border);background:var(--surface);color:var(--primary);font-weight:500;cursor:pointer}.period-export-btn:active{opacity:.8}.period-history-list{flex:1;min-height:0;overflow-y:auto}.period-history-item{background:var(--surface);border-radius:var(--radius);padding:14px 16px;margin-bottom:10px;box-shadow:var(--shadow-sm);display:flex;justify-content:space-between;align-items:center}.period-history-item span{font-size:14px;color:var(--text-2)}.period-history-item .period-range{font-weight:500;color:var(--text)}.period-history-item .period-days{font-size:12px;color:var(--text-3)}.period-history-delete{border:none;background:transparent;color:var(--red);font-size:12px;cursor:pointer;padding:4px 8px}.period-history-delete:hover{text-decoration:underline}.period-empty{text-align:center;padding:40px 20px;color:var(--text-3);font-size:14px}.actions-fab{position:fixed;right:calc(20px + var(--safe-right));bottom:calc(24px + 56px + var(--safe-bottom));z-index:40;display:flex;flex-direction:column;align-items:flex-end;gap:10px}.actions-menu{display:flex;flex-direction:column;gap:8px;opacity:0;visibility:hidden;transform:translateY(8px) scale(.96);transition:opacity .2s ease,transform .2s ease,visibility .2s}.actions-menu.open{opacity:1;visibility:visible;transform:translateY(0) scale(1)}.actions-fab-toggle{width:52px;height:52px;border-radius:50%;border:none;background:linear-gradient(145deg,var(--primary),var(--primary-dark));color:#fff;cursor:pointer;box-shadow:var(--note-shadow),0 4px 14px #0000001f;display:flex;align-items:center;justify-content:center;transition:transform .2s,box-shadow .2s;-webkit-tap-highlight-color:transparent}.actions-fab-toggle:hover{transform:scale(1.05);box-shadow:var(--note-shadow),0 6px 20px #00000026}.fab-icon{font-size:22px;line-height:1;font-weight:700}.action-btn{padding:10px 18px;border:none;border-radius:12px;font-size:14px;font-weight:500;cursor:pointer;background:var(--surface);color:var(--text);box-shadow:var(--shadow);white-space:nowrap;transition:background .2s,transform .15s}.action-btn:hover{background:var(--surface-2)}.action-btn.danger{color:var(--red)}.action-btn.danger:hover{background:#ff3b301a}.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;background:#00000073;display:flex;align-items:center;justify-content:center;z-index:50;padding:20px}.modal-backdrop[hidden]{display:none!important}.punch-success-modal-inner{position:relative;width:100%;max-width:300px;background:linear-gradient(160deg,#fff5f8,#fff 40%,#fef9e7);border-radius:var(--radius-lg);box-shadow:0 10px 40px #0003;padding:24px 20px;text-align:center;overflow:hidden;animation:punch-modal-in .35s cubic-bezier(.34,1.56,.64,1) forwards}@keyframes punch-modal-in{0%{opacity:0;transform:scale(.85)}to{opacity:1;transform:scale(1)}}.punch-success-celebration{position:absolute;top:0;right:0;bottom:0;left:0;border-radius:inherit;pointer-events:none;z-index:0}.celebrate-item{position:absolute;transform:translate(-50%,-50%);opacity:.9;animation-duration:2.5s;animation-timing-function:ease-in-out;animation-iteration-count:infinite}.celebrate-item.celebrate-float{animation-name:celebrate-float}.celebrate-item.celebrate-twinkle{animation-name:celebrate-twinkle}.celebrate-item.celebrate-rise{animation-name:celebrate-rise}@keyframes celebrate-float{0%,to{transform:translate(-50%,-50%) scale(1) rotate(0);opacity:.85}50%{transform:translate(-50%,-50%) scale(1.15) rotate(10deg);opacity:1}}@keyframes celebrate-twinkle{0%,to{opacity:.5;transform:translate(-50%,-50%) scale(.9)}50%{opacity:1;transform:translate(-50%,-50%) scale(1.2)}}@keyframes celebrate-rise{0%{opacity:.6;transform:translate(-50%,-50%) translateY(4px) scale(.95)}50%{opacity:1;transform:translate(-50%,-50%) translateY(-6px) scale(1.1)}to{opacity:.6;transform:translate(-50%,-50%) translateY(4px) scale(.95)}}.punch-success-message{position:relative;z-index:1;font-size:18px;font-weight:600;color:var(--primary);margin-bottom:20px;line-height:1.4}.punch-success-btn{position:relative;z-index:1;display:block;width:100%;padding:12px 20px;font-size:16px;font-weight:600;border:none;border-radius:var(--radius);background:var(--primary);color:#fff;cursor:pointer;-webkit-tap-highlight-color:transparent}.punch-success-btn:active{opacity:.9}.modal{width:100%;max-width:320px;background:var(--surface);border-radius:14px;box-shadow:0 10px 40px #0003;padding:20px 20px 16px}.modal-title{font-size:17px;font-weight:600;margin-bottom:8px}.modal-message{font-size:14px;color:var(--text-2);margin-bottom:20px;line-height:1.5}.modal-actions{display:flex;justify-content:flex-end;gap:12px}.modal-btn{min-width:72px;padding:10px 16px;border-radius:10px;border:none;background:var(--surface-2);font-size:15px;font-weight:500;cursor:pointer;transition:background .2s}.modal-btn.danger{background:#ff3b301f;color:var(--red)}.modal-btn.danger:hover{background:#ff3b3033}.summary-section,.settings-section{background:var(--surface);border-radius:var(--radius-lg);box-shadow:var(--shadow);padding:20px;margin-bottom:16px}.summary-section h2,.settings-section h2{font-size:17px;margin-bottom:12px}.summary-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}.summary-item{padding:12px;border-radius:var(--radius);background:var(--surface-2)}.summary-label{font-size:12px;color:var(--text-3);margin-bottom:4px}.summary-value{font-size:18px;font-weight:600;color:var(--primary)}.settings-row{display:flex;align-items:center;gap:12px;margin-bottom:8px}.settings-row label{font-size:14px;color:var(--text-2)}.settings-row input{flex:1;padding:10px 12px;border-radius:8px;border:1px solid var(--separator);font-size:14px}.settings-tip{font-size:12px;color:var(--text-3)}.history-count{font-size:12px;color:var(--primary);background:#5856d61f;padding:4px 10px;border-radius:8px}.history-list::-webkit-scrollbar{width:6px}.history-list::-webkit-scrollbar-track{background:transparent}.history-list::-webkit-scrollbar-thumb{background:var(--surface-3);border-radius:3px}.history-list::-webkit-scrollbar-thumb:hover{background:var(--text-3)}@media (max-width: 380px){.app-shell,.app-header,.app-main{padding-left:14px;padding-right:14px}.punch-button{width:72px;height:72px}.punch-icon{font-size:24px}}
