.punch-panel .app-header{padding-top:calc(18px + var(--safe-top));padding-bottom:12px;padding-left:16px;padding-right:16px}.punch-panel .app-main{padding:12px 16px 0}.punch-panel .stats-row{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px}.punch-panel .stat-card{background:var(--surface);border-radius:var(--radius);padding:10px 12px;text-align:center;box-shadow:var(--paper-shadow);border-left:var(--accent-line);border-left-color:var(--primary-soft);transition:transform .2s ease,box-shadow .2s ease;animation:card-fade-in .4s ease backwards}.punch-panel .stat-card:nth-child(1){animation-delay:.05s}.punch-panel .stat-card:nth-child(2){animation-delay:.1s}.punch-panel .stat-card:nth-child(3){animation-delay:.15s}@keyframes card-fade-in{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}.punch-panel .stat-card-achievement{border:none;cursor:pointer;-webkit-tap-highlight-color:transparent}.punch-panel .stat-card-achievement:active{opacity:.9}.punch-panel .stat-card .stat-value{display:block;font-size:22px;font-weight:700;color:var(--primary);line-height:1.2}.punch-panel .stat-card .stat-label{font-size:11px;color:var(--text-3);margin-top:1px}.punch-panel .stat-card .stat-achievement-hint{display:block;font-size:10px;color:var(--text-3);margin-top:2px;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.punch-panel .heatmap-section{margin-bottom:14px}.punch-panel .heatmap-title{font-size:14px;font-weight:600;color:var(--text-2);margin-bottom:8px;display:flex;align-items:center;gap:6px}.punch-panel .heatmap-title:before{content:"";width:4px;height:14px;border-radius:2px;background:var(--primary);opacity:.7}.punch-panel .heatmap-container{background:var(--surface);border-radius:var(--radius);padding:10px;box-shadow:var(--paper-shadow)}.heatmap-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:4px}.heatmap-week-label{font-size:10px;color:var(--text-3);text-align:center;padding:4px 0}.heatmap-cell{aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:10px;color:var(--text-3);border-radius:4px;background:var(--surface-3)}.heatmap-cell-empty{background:transparent}.heatmap-cell-0{background:var(--surface-3)}.heatmap-cell-1{position:relative;background:transparent;color:var(--text-2)}.heatmap-cell-1:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:var(--primary);opacity:.25;border-radius:4px}.heatmap-cell-2{position:relative;background:transparent;color:var(--text);z-index:0}.heatmap-cell-2:before{z-index:-1;content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:var(--primary);opacity:.5;border-radius:4px}.heatmap-cell-3{position:relative;background:transparent;color:var(--text);z-index:0}.heatmap-cell-3:before{z-index:-1;content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:var(--primary);opacity:.7;border-radius:4px}.heatmap-cell-4{background:var(--primary);color:#fff}.history-trigger{display:block;width:100%;margin-top:12px;padding:12px 16px;font-size:14px;font-weight:500;color:var(--primary);background:var(--surface);border:1px dashed var(--separator);border-radius:var(--radius);cursor:pointer;-webkit-tap-highlight-color:transparent;transition:background .2s,border-color .2s}.history-trigger:hover{background:var(--surface-2)}.history-trigger:active{opacity:.9}.punch-panel .type-section{margin-top:0;margin-bottom:8px;padding:0 20px}.punch-panel .type-section .van-tabs__wrap{min-height:40px;padding:4px 6px;background:var(--surface);border-radius:999px;box-shadow:var(--paper-shadow)}.punch-panel .type-section .van-tab{padding:6px 12px;font-size:14px}.punch-panel .punch-section{background:var(--surface);border-radius:var(--radius-lg);padding:20px 20px 18px;margin-bottom:14px;text-align:center;box-shadow:var(--note-shadow);border-left:var(--accent-line);border-left-color:var(--primary-soft);position:relative;transition:box-shadow .2s ease}.punch-button{width:88px;height:88px;min-width:88px;min-height:88px;border-radius:50%;border:none;background:linear-gradient(155deg,var(--primary) 0%,var(--primary-dark) 100%);color:#fff;font-size:15px;font-weight:600;cursor:pointer;touch-action:manipulation;-webkit-tap-highlight-color:transparent;transition:transform .2s ease,box-shadow .2s ease;box-shadow:0 4px 14px #5856d666,inset 0 1px #fff3;display:flex;align-items:center;justify-content:center;margin:0 auto 8px}.punch-panel .punch-button{margin:0 auto 8px}.punch-button-inner{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:5px}.punch-button-bounce{animation:punch-bounce .45s cubic-bezier(.34,1.56,.64,1)}@keyframes punch-bounce{0%{transform:scale(1);box-shadow:0 4px 14px #5856d666}18%{transform:scale(.88);box-shadow:0 2px 8px #5856d659}45%{transform:scale(1.08);box-shadow:0 6px 20px #5856d680}70%{transform:scale(.98)}to{transform:scale(1);box-shadow:0 4px 14px #5856d666}}.punch-button:active{transform:scale(.96)}.punch-button--toilet{box-shadow:0 4px 14px #4caf5073}.punch-button--toilet:active{box-shadow:0 2px 10px #4caf5066}.punch-button--meal{box-shadow:0 4px 14px #ff980073}.punch-button--meal:active{box-shadow:0 2px 10px #ff980066}.punch-button--fitness{box-shadow:0 4px 14px #2196f373}.punch-button--fitness:active{box-shadow:0 2px 10px #2196f366}.punch-button--other{box-shadow:0 4px 14px #9c27b073}.punch-button--other:active{box-shadow:0 2px 10px #9c27b066}.punch-section--first .punch-button--first{animation:punch-glow 2s ease-in-out infinite}@keyframes punch-glow{0%,to{box-shadow:0 4px 14px #5856d666}50%{box-shadow:0 4px 24px #5856d699,0 0 0 8px #5856d61f}}.punch-button--toilet.punch-button--first{animation-name:punch-glow-toilet}@keyframes punch-glow-toilet{0%,to{box-shadow:0 4px 14px #4caf5073}50%{box-shadow:0 4px 24px #4caf5099,0 0 0 8px #4caf501f}}.punch-button--meal.punch-button--first{animation-name:punch-glow-meal}@keyframes punch-glow-meal{0%,to{box-shadow:0 4px 14px #ff980073}50%{box-shadow:0 4px 24px #ff980099,0 0 0 8px #ff98001f}}.punch-button--fitness.punch-button--first{animation-name:punch-glow-fitness}@keyframes punch-glow-fitness{0%,to{box-shadow:0 4px 14px #2196f373}50%{box-shadow:0 4px 24px #2196f399,0 0 0 8px #2196f31f}}.punch-button--other.punch-button--first{animation-name:punch-glow-other}@keyframes punch-glow-other{0%,to{box-shadow:0 4px 14px #9c27b073}50%{box-shadow:0 4px 24px #9c27b099,0 0 0 8px #9c27b01f}}.punch-icon{font-size:32px;line-height:1;display:flex;align-items:center;justify-content:center}.punch-text{font-size:14px;letter-spacing:.06em;opacity:.98}.type-tab-title{display:inline-flex;align-items:center;gap:8px;vertical-align:middle}.type-tab-title span:last-child{font-size:13px;font-weight:500}.punch-icon-svg{display:inline-flex;align-items:center;justify-content:center}.punch-icon-svg svg{display:block}.punch-panel .last-punch{font-size:12px;color:var(--text-3);margin-top:0}.punch-panel .last-punch-type,.punch-panel .last-punch-date{color:#5c6bc0;font-weight:600}.history-drawer{display:flex;flex-direction:column;height:100%;min-height:0;overflow:hidden;background:var(--bg)}.history-drawer-header{padding:16px 16px 12px;border-bottom:1px dashed var(--separator);flex-shrink:0}.history-drawer-header .history-title{margin-bottom:12px}.history-drawer .history-type-tabs{flex-shrink:0}.history-drawer .history-list{flex:1;min-height:0;overflow-y:auto;padding:8px 16px 24px}.history-section{background:var(--surface);border-radius:var(--radius-lg);box-shadow:var(--note-shadow);border-left:var(--accent-line);border-left-color:var(--primary-soft);flex:1;display:flex;flex-direction:column;min-height:0;overflow:hidden}.history-header{padding:16px 16px 12px;border-bottom:1px dashed var(--separator);flex-shrink:0}.history-title{font-size:17px;font-weight:600;color:var(--text);margin-bottom:12px;display:flex;align-items:center;gap:8px}.history-title:before{content:"";width:4px;height:18px;border-radius:2px;background:var(--primary);opacity:.7}.history-section h2{font-size:17px;font-weight:600;margin-bottom:12px;color:var(--text);flex-shrink:0}.filter-tabs{display:flex;gap:8px;flex-wrap:wrap}.filter-tab{padding:6px 14px;border:none;border-radius:8px;background:var(--surface-2);font-size:13px;font-weight:500;color:var(--text-2);cursor:pointer;transition:all .2s}.filter-tab.active{background:var(--primary);color:#fff}.history-type-tabs{display:flex;flex-wrap:wrap;gap:8px;padding:12px 16px;border-bottom:1px solid var(--separator);flex-shrink:0}.history-type-tab{padding:6px 12px;border-radius:20px;border:none;background:var(--surface-2);font-size:13px;color:var(--text-2);cursor:pointer;transition:all .2s}.history-type-tab.active{background:var(--primary);color:#fff}.history-list{flex:1;min-height:0;overflow-y:auto;padding:8px 16px 16px}.history-list::-webkit-scrollbar{width:6px}.history-list::-webkit-scrollbar-track{background:transparent}.history-list::-webkit-scrollbar-thumb{background:var(--surface-3);border-radius:3px}.history-list::-webkit-scrollbar-thumb:hover{background:var(--text-3)}.history-item{display:flex;justify-content:space-between;align-items:center;padding:14px 0;border-bottom:1px solid var(--separator);transition:background .15s}.history-item:last-child{border-bottom:none}.history-type-block{border-radius:var(--radius);background:var(--surface-2);margin-bottom:12px;overflow:hidden}.history-type-block .history-item{padding:12px 14px;border-bottom:1px solid var(--separator)}.history-type-block .history-item:first-child{background:#5856d60f;font-weight:500}.history-type-block .history-item:last-child{border-bottom:none}.history-type-block-toilet{border-left:4px solid var(--green)}.history-type-block-meal{border-left:4px solid var(--orange)}.history-type-block-fitness{border-left:4px solid var(--primary)}.history-type-block-other{border-left:4px solid var(--text-3)}.history-date{font-size:15px;color:var(--text);font-weight:500}.history-time{font-size:13px;color:var(--text-3)}.history-time-list{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}.time-chip{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:8px;background:var(--surface);font-size:13px;color:var(--text-2);border:1px solid var(--separator)}.time-delete-btn{border:none;background:transparent;color:var(--red);font-size:12px;cursor:pointer;padding:0 2px}.time-delete-btn:hover{text-decoration:underline}.empty-state{text-align:center;padding:48px 24px;color:var(--text-3)}.empty-state-icon{font-size:48px;margin-bottom:16px;opacity:.5}.type-section{--van-tabs-default-color: var(--primary);--van-tab-text-color: var(--text-2);--van-tab-active-text-color: var(--primary);--van-tabs-bottom-bar-color: var(--primary)}.type-section .van-tab.van-tab--active{font-weight:600}.punch-section .van-button{width:88px;height:88px;min-width:88px;min-height:88px;border-radius:50%;padding:0;box-shadow:0 4px 14px #5856d666}.punch-section .van-button .punch-icon{font-size:32px;display:flex;align-items:center;justify-content:center}.punch-section .van-button .punch-text{font-size:14px;letter-spacing:.06em}.history-header .van-tabs__wrap{height:auto;margin:0 -4px}.history-header .van-tabs--card .van-tabs__wrap{border:none}.history-header .van-tab{padding:6px 14px;font-size:13px}.history-type-tabs.van-tabs{padding:12px 16px}.history-type-tabs .van-tab{padding:6px 12px;font-size:13px;border-radius:20px}.history-list .van-cell-group{margin:0 -8px 12px}.history-list .van-cell-group .van-cell:first-child{background:#5856d60f;font-weight:500}.history-list .time-delete-btn.van-button{min-width:auto;padding:0 6px;height:24px;font-size:12px}.history-list .van-empty{padding:48px 24px}.punch-success-modal-inner[data-v-e3459e69]{position:relative;width:100%;max-width:320px;background:linear-gradient(165deg,#fef6fb,#fff 30%,#f8faff 70%,#f0f8ff);border-radius:var(--radius-lg);box-shadow:0 16px 56px #0000001f,0 0 0 1px #ffffffb3 inset,0 1px #0000000a;padding:24px 20px;text-align:center;overflow:hidden;animation:punch-modal-in-e3459e69 .4s cubic-bezier(.34,1.56,.64,1) forwards}@keyframes punch-modal-in-e3459e69{0%{opacity:0;transform:scale(.88)}to{opacity:1;transform:scale(1)}}.punch-success-header[data-v-e3459e69]{margin-bottom:12px}.punch-success-label[data-v-e3459e69]{display:inline-block;font-size:13px;font-weight:600;color:var(--primary);letter-spacing:.08em;opacity:.9;animation:label-in-e3459e69 .5s ease-out forwards}@keyframes label-in-e3459e69{0%{opacity:0;transform:translateY(-4px)}to{opacity:.9;transform:translateY(0)}}.punch-success-wave-wrap[data-v-e3459e69]{position:relative;height:110px;margin-bottom:22px;display:flex;flex-direction:column;align-items:center;justify-content:center;filter:drop-shadow(0 2px 8px rgba(0,0,0,.06))}.punch-success-wave[data-v-e3459e69]{display:flex;align-items:flex-end;justify-content:center;gap:3px;height:52px}.punch-success-wave--main[data-v-e3459e69]{margin-bottom:4px}.punch-success-wave--mirror[data-v-e3459e69]{transform:scaleY(-1);opacity:.35;height:48px}.wave-bar[data-v-e3459e69]{display:inline-block;width:4px;height:50px;border-radius:3px;background:linear-gradient(to top,var(--primary),var(--primary-soft));transform-origin:center bottom;transition:transform .05s ease-out;opacity:.92}.wave-bar--mirror[data-v-e3459e69]{opacity:.4;background:linear-gradient(to top,var(--primary),transparent)}.punch-success-message[data-v-e3459e69]{position:relative;z-index:1;font-size:18px;font-weight:600;color:var(--primary);margin-bottom:20px;line-height:1.5;padding:0 4px}.punch-success-lyrics[data-v-e3459e69]{position:relative;z-index:1;max-height:120px;margin:0 4px 16px;padding:8px 10px;border-radius:8px;background:#ffffffb3;font-size:13px;line-height:1.6;color:var(--text-2, #666);text-align:left;overflow-y:auto}.punch-success-lyric-line+.punch-success-lyric-line[data-v-e3459e69]{margin-top:2px}.punch-success-lyric-line--active[data-v-e3459e69]{color:var(--primary);font-weight:600}.punch-success-btn[data-v-e3459e69]{position:relative;z-index:1;margin-top:2px}
