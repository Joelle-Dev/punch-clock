import{_ as g}from"./BaseModal-CeGSKcLT.js";import{_ as B,u as C,i as x,o as s,c as A,w as N,j as n,t as i,k as r,F as U,l as F,n as I,m as u,a,h as v}from"./index-X1Z84OWo.js";const L={key:0,class:"achievement-summary"},M={key:1,class:"achievement-medals"},V={class:"achievement-medal-circle"},j={class:"achievement-medal-icon"},z={key:0,class:"achievement-medal-new"},D={class:"achievement-medal-title"},E={key:2,class:"achievement-empty"},S={__name:"AchievementModal",props:{open:Boolean},emits:["update:open"],setup(h,{emit:_}){const l=h,k=_,m=v({get:()=>l.open,set:t=>k("update:open",t)}),{unlockedList:f,achievements:y,newlyUnlockedIds:d,clearNewlyUnlocked:p}=C(),o=v(()=>y.filter(t=>f.value.includes(t.id)));function w(){p()}return x(()=>l.open,t=>{t||p()}),(t,c)=>(s(),A(g,{open:m.value,"onUpdate:open":c[0]||(c[0]=e=>m.value=e),title:"成就","inner-class":"achievement-modal-inner",onClose:w},{default:N(()=>[o.value.length?(s(),n("p",L,"已解锁 "+i(o.value.length)+" 个～",1)):r("",!0),o.value.length?(s(),n("div",M,[(s(!0),n(U,null,F(o.value,e=>(s(),n("div",{key:e.id,class:I(["achievement-medal",{"is-new":u(d).includes(e.id)}])},[a("div",V,[a("span",j,i(e.icon),1),u(d).includes(e.id)?(s(),n("span",z,"新")):r("",!0)]),a("span",D,i(e.title),1)],2))),128))])):(s(),n("div",E,[...c[1]||(c[1]=[a("p",{class:"achievement-empty-hint"},"还没有解锁成就～",-1),a("p",{class:"achievement-empty-desc"},"点「打我」或补录，达成条件即解锁～",-1)])]))]),_:1},8,["open"]))}},q=B(S,[["__scopeId","data-v-a3639f98"]]);export{q as default};
